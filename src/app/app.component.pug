.container
  .row
    .col-sm-8.offset.xs-2

      .pt-5.pb-4
        h3 Angular Checkout
        hr

      form([formGroup]="checkoutForm"   (ngSubmit)="submitCheckout()" )
        app-user-details(
          (whenValidSubmit) = "whenUserDetailsValidSubmit($event)"
          [checkoutForm]="checkoutForm"
          )

        .row
          .col-sm-8.offset-sm-2.pt-4
            input.btn.btn-primary.btn-block(
              type="submit"
              value="Add to Basket"
            )

        .row
          .col-sm-8.offset-sm-2.pt-4
            ul
              li(*ngFor="let order of purchase.orders$ | async; index as i")
                | {{i}} - {{order.name}} {{order.id}}

            input.btn.btn-primary.btn-block(
              (click)="checkout()"
              type="button"
              value="Purchase"
            )
            input.btn.btn-primary.btn-block(
              (click)="updateLastOrder()"
              type="button"
              value="Update the last order"
            )

